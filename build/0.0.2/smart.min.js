/**
 * smart - A light javascript library.
 * @version v0.0.2
 * @author hankewins
 * @link https://github.com/hankewins/smartjs#readme
 * @license MIT
 */
(function(e){function t(){}function n(e,t){var n=Object.prototype.toString;if("[object Array]"===n.call(e))for(var r=0,o=e.length;o>r;r++)t.call(e,r,e[r]);if("[object Object]"===n.call(e))for(var i in e)t.call(e,i,e[i])}function r(t,n,o){for(var i in n)o&&(u.isObject(n[i])||u.isArray(n[i]))?(u.isObject(n[i])&&!u.isObject(t[i])&&(t[i]={}),u.isArray(n[i])&&!u.isArray(t[i])&&(t[i]=[]),r(t[i],n[i],o)):n[i]!==e&&(t[i]=n[i])}var o=(this||("undefined"!=typeof window?window:global),window),i=document,a=Array.prototype.slice,c=["Object","Array","Function","String","Number","Null","Undefined"],u=u||{};u.$=o.jQuery||o.Zepto||o.ender||o.$,r(u,{each:n,forEach:n,trim:function(e){return e.replace(/^\s+|\s+$/g,"")},trimLeft:function(e){return e.replace(/^\s+/g,"")},trimRight:function(e){return e.replace(/\s+$/g,"")},isEmptyObject:function(e){for(var t in e)return!1;return!0},namespace:function(e){{var t,n=null,r=e.split(".");r.length}for(n=this,t=0;t<r.length;t++)tmp=r[t],n=n[tmp]=n[tmp]||{};return this[r[0]]},extend:function(e){var t,o=a.call(arguments,1);return"boolean"==typeof e&&(t=e,e=o.shift()),n(o,function(n,o){r(e,o,t)}),e},"package":function(e,t){var n;return"function"==typeof e?(t=e,n=window):"string"==typeof e?n=this.namespace(e):"object"==typeof e&&(n=e),t.call(n,this),n},util:function(e,n){n=u.isFunction(n)?n:t,u.isString(e)?u.util[e]=n:u.isFunction(e)?u.extend(u.util,e()):u.isObject(e)&&u.extend(u.util,e)},ready:function(e){var t,n=[],r=i.documentElement.doScroll,o=(r?/^loaded|^c/:/^loaded|^i|^c/).test(i.readyState);return o||i.addEventListener("DOMContentLoaded",t=function(){for(i.removeEventListener("DOMContentLoaded",t,!1),o=1;t=n.shift();)t()},!1),o?setTimeout(e):n.push(e)},log:function(e){var t=a.call(arguments);o.console&&console.log?console.log.apply(console,t):alert(e)}}),n(c,function(e,t){u["is"+t]=function(e){return Object.prototype.toString.call(e)==="[object "+t+"]"?!0:!1}}),u.util("currentScript",function(){var e,t=i.getElementsByTagName("script"),n=t.length;if(i.currentScript)return i.currentScript;if(0!==n){if(1===t)return t[0];if("readyState"in t[0])for(var r=t.length;r--;)if("interactive"===t[r].readyState)return t[r];if("loading"===i.readyState)return t[len-1];try{throw Error("get currentJS")}catch(o){o.fileName?e=o.fileName:o.stack?e=o.stack.match(/\([^\)]+\:\d+\)/)[0].replace(/^\(|(\:\d+)+\)$/g,""):o.sourceURL&&(e=o.sourceURL)}if(e)for(var a=0;n>a;a++)if(t[a].src===e)return t[a];return e||t[n-1]}}),u.util("application",function(e){var t,n,r,o,i=u.util.currentScript(),a="json",c={},s=u.extend(c,e);if(module=s.module||"",o=module?new RegExp(module+"\\S+","ig"):new RegExp(module+"/[^/]+$","ig"),r=i.src.replace(o,module),i.src.indexOf(location.host)>-1)n=location.protocol+"//"+location.host,t=n;else if(n=location.protocol+"//"+location.host,i.src.indexOf("localhost")>-1)t="http://localhost";else if(i.src.indexOf("//")>-1){var l=i.src.substring(0,i.src.indexOf("//")+2),f=i.src.replace(l,"");f=f.substring(0,f.indexOf("/")),t=l+f}return isLocalAddr=/(192|127).[\d]{1,3}.[\d]{1,3}.[\d]{1,3}|localhost|dev.demo.gionee.com|demo.3gtest.gionee.com/,"test"===s.env&&isLocalAddr.test(n)&&(a="jsonp",n="http://3g.3gtest.gionee.com"),{modulePath:s.modulePath||r,assetsPath:s.assetsPath||t,webroot:s.webroot||n,format:s.format||a}}),o.smart=u}).call(this),smart["package"](function(e){var t=document,n=(t.createElement("div"),"classList"in document.documentElement),r={one:function(e,n){if(e){var r=n||t;return r.querySelector(e)}},all:function(e,n){if(e){var r=n||t;return r.querySelectorAll(e)}},id:function(e){return t.getElementById(e)},tagName:function(e,n){var r=n||t;return r.getElementByTagName(e)},matchesSelector:function(e,t){if(e&&t){var n=e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.msMatchesSelector;return n?n.call(e,t):void 0}},addClass:function(e,t){if(n){if(!e||!t||!r.hasClass(e,t))return;e.classList.add(t)}else{if(!e||!t||!r.hasClass(e,t))return;e.className+=" "+t}},hasClass:function(e,t){return n?e&&t?void e.classList.contains(t):!1:e&&t?-1<" "+e.className+" ".indexOf(" "+t+" "):!1},removeClass:function(e,t){if(n){if(!e||!t||!r.hasClass(e,t))return;e.classList.remove(t)}else{if(!e||!t||!r.hasClass(e,t))return;e.className=e.className.replace(new RegExp("(?:^|\\s+)"+t+"(?:$|\\s+)")," ")}},toggleClass:function(e,t){r.hasClass(e,t)?r.removeClass(e,t):r.addClass(e,t)},replaceClass:function(e,t,n){r.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(?:^|\\s+)"+t+"(?:$|\\s+)")," "+n+" "))},children:function(e){if(e.childElementCount)return[].slice.call(el.children);for(var t=[],n=e.firstChild;n;n=n.nextSlibling)1===n.nodeType&&t.push(n);return t},next:function(e){if("nextElementSibling"in e)return e.nextElementSibling;for(;e=e.nextSlibling;)if(1===e.nodeType)return e},prev:function(e){if("previousElementSibling"in e)return e.previousElementSibling;for(;e=e.previousSibling;)if(1===e.nodeType)return e},first:function(e){if("firstElementChild"in e)return e.firstElementChild;for(;e=e.firstChild;)if(1===e.nodeType)return e},last:function(e){if("lastElementChild"in e)return e.firstElementChild;for(;e=e.lastChild;)if(1===e.nodeType)return e},parent:function(e){if("parentElement"in e)return e.parentElement;for(;e=e.parentNode;)if(1===e.nodeType)return e},filter:function(t,n){return e.filter(t,function(e){return r.matchesSelector(t,n)})},insertAfter:function(e,t,n){var r=n.nextSibling;return r?e.insertBefore(t,r):e.appendChild(t),t}};e.dom=r}),smart["package"](function(e){var t=(window,document),n=1;e.cache=e.cache||{};var r=e.cache.__event_cache={},o=function(e){return e._guid||(e._guid=n++)},i=function(){return!0},a=function(){return!1},c="onfocusin"in window,u={};e.forEach(["click","mouseup","mousemove","mousedown"],function(e){u[e]="MouseEvents"});var s={focus:{focus:"focusin",blur:"focusout"},hover:{mouseenter:"mouseover",mouseleave:"mouseout"}},l=function(e){return s.hover[e]||c&&s.focus[e]||e},f=function(t){if("isDefaultPrevented"in t)return t;var n,r;return n=t,r={preventDefault:"isDefaultPrevented",stopPropagation:"isPropagationStopped",stopImmediatePropagation:"isImmediatePropagationStopped"},e.forEach(r,function(e,r){var o=n[r];t[r]=function(){return this[e]=i,o&&o.apply(n,arguments)},t[e]=a}),(void 0!==n.defaultPrevented?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(t.isDefaultPrevented=i),t},d=function(e){var t,n;t={originalEvent:e};for(n in e)void 0!==e[n]&&(t[n]=e[n]);return t},m=t.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},p=function(e,t,n,i){var a,c,u,s=[];if(c=r[o(t)],!c)return s;for(a=c.length;a--;)u=c[a],e&&e!=u.type||t&&t!=u.elem||n&&o(n)!==o(u.callback)||i&&i!=u.selector||s.push(u);return s},v={add:function(t,n,i,a){var c,u,p,v,g,h,E={};e.forEach(n.split(/\s/),function(n){c=o(t),u=r[c]||(r[c]=[]),a&&(p=function(n){var r;for(h=n.target;h!=t;){if(e.util.matchesSelector(h,a))return r=d(n),r.currentTarget=h,i.apply(h,[r]);h.parentNode&&(h=h.parentNode)}}),E={type:n,elem:t,selector:a,callback:i,delegator:p,index:u.length},n in s.hover&&(i=function(e){var n=e.relatedTarget;return!n||n!==t&&!m(t,n)?E.callback.apply(t,arguments):void 0}),v=p||i,E.proxy=function(e){return e=f(e),e.isImmediatePropagationStopped()?void 0:(g=v.apply(t,[e]),g===!1&&(e.stopPropagation(),e.preventDefault()),g)},u.push(E),t.addEventListener&&t.addEventListener(l(n),E.proxy,!1)})},remove:function(t,n,i,a){var c=o(t);e.forEach(n.split(/\s/),function(e){var n,o;for(o=p(e,t,i,a),n=o.length;n--;)delete r[c][o[n].index],"removeEventListener"in t&&t.removeEventListener(e,o[n].proxy,!1)})},bind:function(e,t,n){v.on(e,t,n)},unbind:function(e,t,n){v.off(e,t,n)},on:function(n,r,i,a){return n&&!e.isString(n)?void e.forEach(n,function(e,t){v.on(t,r,i,a)}):(e.isFunction(i)&&(a=i,i=void 0),(t||r instanceof HTMLElement)&&(r=[r]),o(a),void e.forEach(r,function(e){v.add(e,n,a,i)}))},off:function(n,r,o,i){return n&&!e.isString(n)?void e.forEach(n,function(e,t){v.on(t,r,o,i)}):(e.isFunction(o)&&(i=o,o=void 0),(t||r instanceof HTMLElement)&&(r=[r]),void e.forEach(r,function(e){v.remove(e,n,i,o)}))},trigger:function(n,r,o){(t||r instanceof HTMLElement)&&(r=[r]),e.isString(n)&&e.forEach(r,function(r){e.forEach(n.split(/\s/),function(n){var i,a,c;if(/^(focus|blur)$/.test(n))try{r[n]()}catch(s){}else{if(i=t.createEvent(u[n]||"Events"),i.initEvent(n,!0,!0),i=f(i),i=d(i),i.target=r,o&&e.isObject(o))for(var l in o)i[l]=o[l];for(a=p(n,r),c=a.length;c--;)if(a[c].proxy(i),i.isImmediatePropagationStopped())return!1}})})}};e.forEach(["focusin","focusout","focus","blur","load","resize","scroll","unload","click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave","change","select","keydown","keypress","keyup","error"],function(e){v[e]=function(t,n){return n?v.bind(e,t,n):v.trigger(e,t)}}),e.event=v});