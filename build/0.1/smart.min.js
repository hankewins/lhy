smart["package"](function(){var e={forEach:Array.prototype.forEach?function(){var e=Array.prototype,t=e.slice.call(arguments,1);return e.forEach.apply(arguments[0],t)}:function(e,t){if(null==e||void 0==e)throw new TypeError("array can not be null or undefined;");if("function"!=typeof t)throw new TypeError(t+"is not a function");for(var r=e.length,n=arguments[2],o=0;r>o;o++)o in e&&t.call(n,e[o],o,e)},indexOf:Array.prototype.indexOf?function(){var e=Array.prototype,t=e.slice.call(arguments,1);return e.indexOf.apply(arguments[0],t)}:function(e,t,r){if(null==e||void 0==e)throw new TypeError("array can not be null or undefined;");void 0==r?r=0:0>r&&(r=Math.max(0,e.length));for(var n=r;n<e.length;n++)if(e[n]==t)return n;return-1},lastIndexOf:Array.prototype.lastIndexOf?function(){var e=Array.prototype,t=e.slice.call(arguments,1);return e.lastIndexOf.apply(arguments[0],t)}:function(e,t,r){if(null==e||void 0==e)throw new TypeError("array can not be null or undefined;");void 0==r?r=e.length-1:0>r&&(r=Math.max(0,e.length));for(var n=r;n>=0;n--)if(e[n]==t)return n;return-1},map:Array.prototype.map?function(){var e=Array.prototype,t=e.slice.call(arguments,1);return e.map.apply(arguments[0],t)}:function(e,t){if(null==e||void 0==e)throw new TypeError("array can not be null or undefined;");if("function"!=typeof t)throw new TypeError("the callback is not a function");for(var r=new Array(e.length),n=arguments[2],o=0,a=e.length;a>o;o++)r[o]=t.call(n,e[o],o,e);return r},filter:Array.prototype.filter?function(){var e=Array.prototype,t=e.slice.call(arguments,1);return e.filter.apply(arguments[0],t)}:function(e,t){if(null==e||void 0==e)throw new TypeError("array can not be null or undefined;");if("function"!=typeof t)throw new TypeError("callback is not a function");for(var r=new Array,n=arguments[2],o=0,a=e.length;a>o;o++)t.call(n,e[o],o,e)&&r.push(e[o]);return r},some:Array.prototype.some?function(){var e=Array.prototype,t=e.slice.call(arguments,1);return e.some.apply(arguments[0],t)}:function(e,t){if(null==e||void 0==e)throw new TypeError("array can not be null or undefined;");if("function"!=typeof t)throw new TypeError("callback is not a function");for(var r=!1,n=arguments[2],o=0,a=e.length;a>o;o++)if(t.call(n,e[o],o,e)){r=!0;break}return r},every:Array.prototype.every?function(){var e=Array.prototype,t=e.slice.call(arguments,1);return e.every.apply(arguments[0],t)}:function(e,t){if(null==e||void 0==e)throw new TypeError("array can not be null or undefined;");if("function"!=typeof t)throw new TypeError("callback is not a function");for(var r=!0,n=arguments[2],o=0,a=e.length;a>o;o++)if(!t.call(n,e[o],o,e)){r=!1;break}return r},reduce:Array.prototype.reduce?function(){var e=Array.prototype,t=e.slice.call(arguments,1);return e.reduce.apply(arguments[0],t)}:function(e,t){if(null==e||void 0==e)throw new TypeError("array can not be null or undefined;");if("function"!=typeof t)throw new TypeError("callback is not a function");var r,n=!1,o=e.length;arguments.length>2&&(r=arguments[2],n=!0);for(var a=0;o>a;a++)n?r=t(r,e[a],a,e):(r=e[a],n=!0);if(!n)throw new TypeError("数组为空或者未被赋初始值");return r},reduceRight:Array.prototype.reduceRight?function(){var e=Array.prototype,t=e.slice.call(arguments,1);return e.reduceRight.apply(arguments[0],t)}:function(e,t){if(null==e||void 0==e)throw new TypeError("array can not be null or undefined;");if("function"!=typeof t)throw new TypeError("callback is not a function");var r,n=!1,o=e.length;arguments.length>2&&(r=arguments[2],n=!0);for(var a=o-1;a>=0;a--)n?r=t(r,e[a],a,e):(r=e[a],n=!0);if(!n)throw new TypeError("数组为空或者未被赋初始值");return r},insertAt:Array.prototype.insertAt?function(){var e=Array.prototype,t=e.slice.call(arguments,1);return e.insertAt.apply(arguments[0],t)}:function(e,t,r){if(null==e||void 0==e)throw new TypeError("array can not be null or undefined;");var n=!1;return r>-1&&r<e.length&&(e.splice(r,0,t),n=!0),n},insertAfter:Array.prototype.insertAfter?function(){var e=Array.prototype,t=e.slice.call(arguments,1);return e.insertAfter.apply(arguments[0],t)}:function(e,t,r){if(null==e||void 0==e)throw new TypeError("array can not be null or undefined;");var n=!1,o=this.indexOf(e,t);return-1==o?n=!1:(o==e.length-1?e.push(r):this.insertAt(e,r,o+1),n=!0),n},insertBefore:Array.prototype.insertBefore?function(){var e=Array.prototype,t=e.slice.call(arguments,1);return e.insertBefore.apply(arguments[0],t)}:function(e,t,r){if(null==e||void 0==e)throw new TypeError("array can not be null or undefined;");var n=!1,o=this.indexOf(e,t);return-1==o?n=!1:(0==o?e.unshift(r):this.insertAt(e,r,o-1),n=!0),n},remove:Array.prototype.remove?function(){var e=Array.prototype,t=e.slice.call(arguments,1);return e.remove.apply(arguments[0],t)}:function(e,t){if(null==e||void 0==e)throw new TypeError("array can not be null or undefined;");var r=!1,n=this.indexOf(e,t);return n>-1&&(e.splice(n,1),r=!0),r},max:Array.prototype.max?function(){var e=Array.prototype,t=e.slice.call(arguments,1);return e.max.apply(arguments[0],t)}:function(e){if(null==e||void 0==e)throw new TypeError("array can not be null or undefined;");return Math.max.apply(Math,e)},min:Array.prototype.min?function(){var e=Array.prototype,t=e.slice.call(arguments,1);return e.min.apply(arguments[0],t)}:function(e){if(null==e||void 0==e)throw new TypeError("array can not be null or undefined;");return Math.min.apply(Math,e)},sum:Array.prototype.sum?function(){var e=Array.prototype,t=e.slice.call(arguments,1);return e.sum.apply(arguments[0],t)}:function(e){if(null==e||void 0==e)throw new TypeError("array can not be null or undefined;");for(var t=0,r=0,n=e.length;n>r;r++)t+=e[r];return t},replace:Array.prototype.replace?function(){var e=Array.prototype,t=e.slice.call(arguments,1);return e.replace.apply(arguments[0],t)}:function(e,t,r){if(null==e||void 0==e)throw new TypeError("array can not be null or undefined;");for(var n=0,o=e.length;o>n;n++)if(e[n]===t)return e[n]=r,!0;return!1},unique:Array.prototype.unique?function(){var e=Array.prototype,t=e.slice.call(arguments,1);return e.unique.apply(arguments[0],t)}:function(e){if(null==e||void 0==e)throw new TypeError("array can not be null or undefined;");for(var t=[],r=0,n=e.length;n>r;r++)this.contains(t,e[r])||t.push(e[r]);return t},diff:Array.prototype.diff?function(){var e=Array.prototype,t=e.slice.call(arguments,1);return e.diff.apply(arguments[0],t)}:function(e,t){if(null==e||void 0==e||null==t||void 0==t)throw new TypeError("array can not be null or undefined;");for(var r=[],n=0,o=e.length;o>n;n++)this.contains(t,e[n])||r.push(e[n]);return this.unique(r)},intersect:Array.prototype.intersect?function(){var e=Array.prototype,t=e.slice.call(arguments,1);return e.intersect.apply(arguments[0],t)}:function(e,t){if(null==e||void 0==e||null==t||void 0==t)throw new TypeError("array can not be null or undefined;");for(var r=[],n=0,o=e.length;o>n;n++)this.contains(t,e[n])&&r.push(e[n]);return this.unique(r)},union:Array.prototype.union?function(){var e=Array.prototype,t=e.slice.call(arguments,1);return e.union.apply(arguments[0],t)}:function(e,t){if(null==e||void 0==e||null==t||void 0==t)throw new TypeError("array can not be null or undefined;");return this.unique(e.concat(t))},contains:Array.prototype.contains?function(){var e=Array.prototype,t=e.slice.call(arguments,1);return e.contains.apply(arguments[0],t)}:function(e,t){return this.indexOf(e,t)>-1},bubbleSort:Array.prototype.bubbleSort?function(){var e=Array.prototype,t=e.slice.call(arguments,1);return e.bubbleSort.apply(arguments[0],t)}:function(e){if(null==e||void 0==e)throw new TypeError("Array can not be null or undefined");for(var t,r=e.length;r>0;){for(var n=0;r-1>n;n++)e[n]>e[n+1]&&(t=e[n],e[n]=e[n+1],e[n+1]=t);r--}return e}};smart.array=e}),smart["package"](function(e){var t=this.document,r=t.window=this,n=function(e,r){var n,o,a;e=e.toLowerCase(),r=r?r.toLowerCase():"";var i=/(opera|ie|firefox|chrome|trident|version)[\s\/:]([\w\d\.]+)?.*?(safari|(?:rv[\s\/:]|version[\s\/:])([\w\d\.]+)|$)/,u=e.match(i)||[null,"unkonwn",0];switch("trident"==u[1]&&(u[1]="ie"),n="version"==u[1]?u[3]:u[1],o=parseFloat("opera"==u[1]&&u[4]?u[4]:u[2]),"ie"==n&&(o=t.documentMode),n){case"ie":a="trident";break;case"firefox":a="gecko";break;case"safari":case"chrome":a="webkit";break;case"opera":a="presto";break;case"unkonwn":var s=(navigator.userAgent.toLowerCase().match(/(?:webkit|khtml|gecko)/)||[])[0];"webkit"==s||"khtml"==s?a="webkit":"gecko"==s&&(a="gecko")}return r=e.match(/ip(?:ad|od|hone)/)?"ios":(e.match(/(?:webos|android)/)||r.match(/mac|win|linux/)||["other"])[0],"win"==r&&(r="windows"),{name:n,version:o,platform:r,engine:a}},o={};o=n(navigator.userAgent,navigator.platform),o.Request=function(){var e=function(){return new XMLHttpRequest},t=function(){return new ActiveXObject("MSXML2.XMLHTTP")},r=function(){return new ActiveXObject("Microsoft.XMLHTTP")},n=function(){for(var e=0,t=arguments.length;t>e;e++)try{return arguments[e]()}catch(r){}return null};return n(function(){return e(),e},function(){return t(),t},function(){return r(),r})}(),o.Features={query:!!t.querySelector,json:!!r.JSON,xhr:!!o.Request},o.Devices={istouch:"ontouchstart"in window,width:r.screen.width,height:r.screen.height,dpi:r.devicePixelRatio},e.browser=o}),smart["package"](function(e){var t=document,r={options:{path:"/",secure:!1,domain:!1,expires:!1},_setOptions:function(t){return void 0==t?this.options:e.extend(t,this.options)},setItem:function(e,r){var n=this._setOptions(arguments[2]);if(r=encodeURIComponent(r),n.path&&(r+="; path="+n.path),n.domain&&(r+="; domain="+n.domain),n.expires){var o=new Date;o.setTime(o.getTime()+24*n.expires*60*60*1e3),r+="; expires="+o.toGMTString()}n.secure&&(r+="; secure"),t.cookie=e+"="+r},getItem:function(e){var r=t.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(skey).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1");return r?decodeURIComponent(r):null},removeItem:function(e){if(!e||!this.hasItem(e))return!1;var r=this._setOptions(arguments[1]),n="";return n="; expires=Thu, 01 Jan 1970 00:00:00 GMT",r.domain&&(n+="; domain="+r.domain),r.path&&(n+="; path="+r.path),t.cookie=encodeURIComponent(e)+"="+n,!0},hasItem:function(e){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\+").test(t.cookie)}};e.cookie=r}),function(){var e={namespace:function(e){if(!e)return window;for(var t=e.split("."),r=window,n=0;n<t.length;n++){var o=t[n];r[o]=r[o]||{},r=r[o]}return r},"package":function(e,t){var r;"function"==typeof e?(t=e,r=window):"string"==typeof e?r=this.namespace(e):"object"==typeof e&&(r=e),t.call(r,this)},extend:function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},ota:function(e){var t=[];try{return t.slice.call(e)}catch(r){for(var n=0,o=e.length;o>n;n++)t.push(e);return t}},isEmptyObject:function(e){for(var t in e)return!1;return!0},str_pad:function(t,r,n,o){var n=n||"",a=["STR_PAD_BOTH","STR_PAD_LEFT","STR_PAD_RIGHT"],o=o&&a.indexOf(o)?o:a[2];if(t&&r&&e.isString(t)&&!e.isNumber(r)){if(r<=t.length)return t;if(o==a[0])for(;r--;)t=r%2==0?t:t+n;else if(o==a[1])for(;r--;)t=n+t;else if(o==a[2])for(;r--;)t+=n;return t}},forEach:function(e,t,r){var n;if(e)if(e.forEach&&e.forEach!==this.forEach)e.forEach(t,r);else for(n in e)e.hasOwnProperty(n)&&t.call(r,e[n],n);return e},trim:function(e){return e?e.replace(/(^\s*)|(\s*$)/g,""):void 0},ltrim:function(e){return e?e.replace(/(^\s*)/g,""):void 0},rtrim:function(e){return e?e.replace(/(\s*$)/g,""):void 0}};e["package"](function(e){for(var t=["Array","Object","Boolean","String","Function","Number","RegExp","Undefined","Null","IE"],r=Object.prototype.toString,n=0;n<t.length;n++)e["is"+t[n]]=function(e){return function(n){return r.call(n)==="[object "+t[e]+"]"?!0:!1}}(n)}),e.extend(e,{indexOf:function(t,r){if(e.isArray(t))return[].indexOf.call(t,r);if(e.isObject(t))for(var n in t)if(t.hasOwnProperty(n)&&t[n]===r)return n},each:function(t,r){if(e.isArray(t))return[].forEach.call(t,r);if(e.isObject(t))for(var n in t)if(t.hasOwnProperty(n)&&r.call(t[n],t[n],n,t)===!1)return},filter:function(t,r){if(e.isArray(t))return[].filter.call(t,r);if(e.isObject(t)){var n={};e.each(t,function(e,t){return r(e,t)&&(n[t]=e),n})}}}),window.lhy=window.smart=e,"function"==typeof define&&define(function(){return lhy})}(),smart["package"](function(){var e={isDate:function(e){return e instanceof Date},getDatePeriod:function(e,t){if(!this.isDate(e)||!this.isDate(t))throw new TypeError("it is not date type");var r=Math.abs(e.getTime()-t.getTime()),n=Math.ceil(r/864e5);return n},isLeapYear:function(e){if(!this.isDate(e))throw new TypeError("it is not date type");var t=e.getFullYear();return t%4==0&&t%100!=0||t%400==0},dateFormat:function(e,t){void 0===t&&(t=e,e=new Date);var r={M:e.getMonth()+1,d:e.getDate(),h:e.getHours(),m:e.getMinutes(),s:e.getSeconds(),q:Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};return t=t.replace(/([yMdhmsqS])+/g,function(t,n){var o=r[n];return void 0!==o?(t.length>1&&(o="0"+o,o=o.substr(o.length-2)),o):"y"===n?(e.getFullYear()+"").substr(4-t.length):t})},dateFormat1:function(e,t){var r={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in r)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?r[n]:("00"+r[n]).substr((""+r[n]).length)));return t}};smart.date=e}),smart["package"](function(e){var t=document,r=(t.createElement("div"),"classList"in document.documentElement),n={one:function(e,r){if(e){var n=r||t;return n.querySelector(e)}},all:function(e,r){if(e){var n=r||t;return n.querySelectorAll(e)}},id:function(e){return t.getElementById(e)},tagName:function(e,r){var n=r||t;return n.getElementByTagName(e)},matchesSelector:function(e,t){if(e&&t){var r=e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.msMatchesSelector;return r?r.call(e,t):void 0}},addClass:function(e,t){if(r){if(!e||!t||!n.hasClass(e,t))return;e.classList.add(t)}else{if(!e||!t||!n.hasClass(e,t))return;e.className+=" "+t}},hasClass:function(e,t){return r?e&&t?void e.classList.contains(t):!1:e&&t?-1<" "+e.className+" ".indexOf(" "+t+" "):!1},removeClass:function(e,t){if(r){if(!e||!t||!n.hasClass(e,t))return;e.classList.remove(t)}else{if(!e||!t||!n.hasClass(e,t))return;e.className=e.className.replace(new RegExp("(?:^|\\s+)"+t+"(?:$|\\s+)")," ")}},toggleClass:function(e,t){n.hasClass(e,t)?n.removeClass(e,t):n.addClass(e,t)},replaceClass:function(e,t,r){n.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(?:^|\\s+)"+t+"(?:$|\\s+)")," "+r+" "))},children:function(e){if(e.childElementCount)return[].slice.call(el.children);for(var t=[],r=e.firstChild;r;r=r.nextSlibling)1==r.nodeType&&t.push(r);return t},next:function(e){if("nextElementSibling"in e)return e.nextElementSibling;for(;e=e.nextSlibling;)if(1===e.nodeType)return e},prev:function(e){if("previousElementSibling"in e)return e.previousElementSibling;for(;e=e.previousSibling;)if(1===e.nodeType)return e},first:function(e){if("firstElementChild"in e)return e.firstElementChild;for(;e=e.firstChild;)if(1===e.nodeType)return e},last:function(e){if("lastElementChild"in e)return e.firstElementChild;for(;e=e.lastChild;)if(1===e.nodeType)return e},parent:function(e){if("parentElement"in e)return e.parentElement;for(;e=e.parentNode;)if(1===e.nodeType)return e},filter:function(t,r){return e.filter(t,function(e){return n.matchesSelector(t,r)})},insertAfter:function(e,t,r){var n=r.nextSibling;return n?e.insertBefore(t,n):e.appendChild(t),t}};e.$=e.dom=n}),smart["package"](function(e){var t=window,r=document,e=t.smart||(t.smart={}),n=1;e.cache||(e.cache={});var o=e.cache.__event_cache={},a=function(e){return e._guid||(e._guid=n++)},i=function(){return!0},u=function(){return!1},s="onfocusin"in window,c={};e.forEach(["click","mouseup","mousemove","mousedown"],function(e){c[e]="MouseEvents"});var l={focus:{focus:"focusin",blur:"focusout"},hover:{mouseenter:"mouseover",mouseleave:"mouseout"}},f=function(e){return l.hover[e]||s&&l.focus[e]||e},p=function(t){if("isDefaultPrevented"in t)return t;var r,n;return r=t,n={preventDefault:"isDefaultPrevented",stopPropagation:"isPropagationStopped",stopImmediatePropagation:"isImmediatePropagationStopped"},e.forEach(n,function(e,n){var o=r[n];t[n]=function(){return this[e]=i,o&&o.apply(r,arguments)},t[e]=u}),(void 0!==r.defaultPrevented?r.defaultPrevented:"returnValue"in r?r.returnValue===!1:r.getPreventDefault&&r.getPreventDefault())&&(t.isDefaultPrevented=i),t},h=function(e){var t,r;t={originalEvent:e};for(r in e)void 0!==e[r]&&(t[r]=e[r]);return t},d=r.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},g=function(e,t,r,n){var i,u,s,c=[];if(u=o[a(t)],!u)return c;for(i=u.length;i--;)s=u[i],e&&e!=s.type||t&&t!=s.elem||r&&a(r)!==a(s.callback)||n&&n!=s.selector||c.push(s);return c},m={add:function(t,r,n,i){var u,s,c,g,m,v,y={};e.forEach(r.split(/\s/),function(r){u=a(t),s=o[u]||(o[u]=[]),i&&(c=function(r){var o;for(v=r.target;v!=t;){if(e.util.matchesSelector(v,i))return o=h(r),o.currentTarget=v,n.apply(v,[o]);v.parentNode&&(v=v.parentNode)}}),y={type:r,elem:t,selector:i,callback:n,delegator:c,index:s.length},r in l.hover&&(n=function(e){var r=e.relatedTarget;return!r||r!==t&&!d(t,r)?y.callback.apply(t,arguments):void 0}),g=c||n,y.proxy=function(e){return e=p(e),e.isImmediatePropagationStopped()?void 0:(m=g.apply(t,[e]),m===!1&&(e.stopPropagation(),e.preventDefault()),m)},s.push(y),"addEventListener"in t&&t.addEventListener(f(r),y.proxy,!1)})},remove:function(t,r,n,i){var u=a(t);e.forEach(r.split(/\s/),function(e){var r,a;for(a=g(e,t,n,i),r=a.length;r--;)delete o[u][a[r].index],"removeEventListener"in t&&t.removeEventListener(e,a[r].proxy,!1)})},bind:function(e,t,r){m.on(e,t,r)},unbind:function(e,t,r){m.off(e,t,r)},on:function(t,n,o,i){return t&&!e.isString(t)?void e.forEach(t,function(e,t){m.on(t,n,o,i)}):(e.isFunction(o)&&(i=o,o=void 0),(r||n instanceof HTMLElement)&&(n=[n]),a(i),void e.forEach(n,function(e){m.add(e,t,i,o)}))},off:function(t,n,o,a){return t&&!e.isString(t)?void e.forEach(t,function(e,t){m.on(t,n,o,a)}):(e.isFunction(o)&&(a=o,o=void 0),(r||n instanceof HTMLElement)&&(n=[n]),void e.forEach(n,function(e){m.remove(e,t,a,o)}))},trigger:function(t,n,o){(r||n instanceof HTMLElement)&&(n=[n]),e.isString(t)&&e.forEach(n,function(n){e.forEach(t.split(/\s/),function(t){var a,i,u;if(/^(focus|blur)$/.test(t))try{n[t]()}catch(s){}else{if(a=r.createEvent(c[t]||"Events"),a.initEvent(t,!0,!0),a=p(a),a=h(a),a.target=n,o&&e.isObject(o))for(var l in o)a[l]=o[l];for(i=g(t,n),u=i.length;u--;)if(i[u].proxy(a),a.isImmediatePropagationStopped())return!1}})})}};e.forEach(["focusin","focusout","focus","blur","load","resize","scroll","unload","click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave","change","select","keydown","keypress","keyup","error"],function(e){m[e]=function(t,r){return r?m.bind(e,t,r):m.trigger(e,t)}}),e.event=m}),smart.packpage(function(e){var t={date:function(){}};e.format=t}),smart["package"](function(e){var t={serializeParam:function(e){if(!e)return"";var t=[];for(var r in e)t.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t.join("&")},getUrlParam:function(e,t,r){var n=new RegExp("(?:\\?|&|#)"+e+"(=[^&]*)(?:$|#|&)","i"),o=n.exec(t),a=o?o[1]:"";return r?encodeURIComponent(a):a},ajax:function(e){var r=e,n=r.method.toLocaleUpperCase(),o="POST"==n,a=r.timeout,i=!1,u="async"in r?e.async:!0,s=window.XMLHttpRequest?new XMLHttpRequest:!1;if(!s)return r.error&&r.error.call(null,{ret:999,msg:"Create XHR Error!"}),!1;var c=t.serializeParam(r.data);return!o&&(r.url=(e.url.indexOf("?")>-1?"?":"&")+c),s.open(n,r.url,u),o&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.onreadystatechange=function(){if(4==s.readyState){var e=s.status;if(200==e&&300>e||304==e||0==e){var t=s.responseText.replace(/\r|\n|\t/gi,""),n=null;try{n=JSON.parse(t)}catch(o){console.log("response is not JSON.")}r.success&&r.success(n,s)}else r.error&&r.error(s);i=!0,timer&&clearTimeout(timer)}},s.send(o?c:void 0),a&&(timer=setTimeout(function(){i||(s.abort(),r.timeout&&r.timeout(s))},a)),s}};e.http=t}),smart["package"](function(e){}),smart["package"](function(e){var t=(window,document),r=/\((.*?)\)/g,n=/(\(\?)?:\w+/g,o=/\*\w+/g,a=/[\-{}\[\]+?.,\\\^$|#\s]/g,i=/^[#\/]|\s+$/g,u=/#.*$/,s=/\/$/,c=function(e,r,n){t.addEventListener?e.addEventListener(r,n,!1):e.attachEvent("on"+r,n)},l=function(e,r,n){t.removeEventListener?e.removeEventListener(r,n):e.dettachEvent("on"+r,n)},f={root:"/",routes:[],started:!1,config:function(e){if(e&&e.routes){var t,r,n;t=e.routes,"function"==typeof t&&(t=t());for(r in t)n="string"==typeof t[r]?e[t[r]]||null:t[r],this.add(r,n);return this}},initialize:function(){},start:function(e){return this.started!==!0?(this.started=!0,this.options=e=e||{},this.root=e.root||this.root,this.options.hashChange=e.hashChange!==!1,this.options.hasHashChange="onhashchange"in window&&this.options.hashChange,this.options.pushState=!!e.pushState,this.options.hasPushState=!(!e.pushState||!history.pushState),this.options.hasPushState?c(window,"popstate",this.listener):this.options.hasHashChange&&c(window,"hashchange",this.listener),this.loadUrl()):void 0},stop:function(e){l(window,"popstate",this.listener),l(window,"hashchange",this.listener),this.started=!1},listener:function(e){f.loadUrl()},loadUrl:function(e){var t,r,n;if(e)n=this.getFragment(e);else if(n=this.getFragment(),n===this.fragment)return;this.fragment=n,r=this.routes;for(t in r)if(r[t].route.test(n)){r[t].callback(n);break}},add:function(t,r){var n,o=this;return e.isRegExp(t)||(t=this.routeToRegExp(t)),this.routes.push({route:t,callback:function(e){n=o.extractParameters(t,e),r&&r.apply(o,n)}}),this},remove:function(t){var r;return e.isRegExp(t)||(t=this.routeToRegExp(t)),r=this.routes,e.forEach(r,function(e,n){e.route===t&&r.splice(n,1)}),this},navigate:function(e,r){var n;if(this.started&&(r&&r!==!0||(r={trigger:!!r}),n=this.root+(e=this.getFragment(e||"")),e=e.replace(u,""),this.fragment!==e)){if(""===e&&"/"!==n&&(n=n.slice(0,-1)),this.options.hasPushState)history[r.replace?"replaceState":"pushState"]({},t.title,n);else{if(!this.options.hasHashChange)return location.assign(n);if(r.replace){var o=location.href.replace(/(javascript:|#).*$/,"");location.replace(o+"#"+e)}else location.hash="#"+e}return r.trigger?this.loadUrl(e):this}},extractParameters:function(t,r){var n=t.exec(r).slice(1),o=[];return e.forEach(n,function(e,t){return t===n.length-1?void o.push(e||null):void o.push(e?decodeURIComponent(e):null)}),o},getHash:function(){var e=location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var e,t;return e=decodeURI(location.pathname+location.search),t=this.root.replace(s,""),e.indexOf(t)||(e=e.slice(t.length)),e},getFragment:function(e){return null==e&&(e=this.options.hasPushState||!this.options.hashChange?this.getPath():this.getHash()),e.replace(i,"")},routeToRegExp:function(e){return e=e.replace(a,"\\$&").replace(r,"(?:$1)?").replace(n,function(e,t){return t?e:"([^/?]+)"}).replace(o,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")}};e.router=f}),function(){var e,t,r,n,o,a,i=window,u=document,s=i.smart||(i.smart={}),c={},l=0,f=0,p=function(e,t,r,n){return Math.abs(e-t)>=Math.abs(r-n)?e-t>0?"Left":"Right":r-n>0?"Top":"Bottom"},h=function(){t&&clearTimeout(t),r&&clearTimeout(r),n&&clearTimeout(n),o&&clearTimeout(o),a&&clearTimeout(a),t=r=n=o=a=null},d=function(){c.last&&(s.event.trigger("longTap",c.el),c={}),o=null},g=function(){o&&clearTimeout(d),o=null};s.event.on("touchstart MSPointerDown pointerdown",u,function(t){var r,n;e=t.touches[0],c.x2&&(c.x2=void 0,c.y2=void 0),c.x1=e.pageX,c.y1=e.pageY,c.el="tagName"in e.target?e.target:e.target.parentNode,r=Date.now(),n=r-c.last||r,n>0&&250>=n&&(c.isDoubleTap=!0),c.last=r,o=setTimeout(d,750)}),s.event.on("touchmove MSPointerMove pointermove",u,function(t){g(),e=t.touches[0],c.x2=e.pageX,c.y2=e.pageY,l=Math.abs(c.x1-c.x2),f=Math.abs(c.y1-c.y2)}),s.event.on("touchend MSPointerUp pointerup",u,function(e){g(),c.x2&&l>30||c.y2&&f>30?a=setTimeout(function(){s.event.trigger("swipe",c.el),s.event.trigger("swipe"+p(c.x1,c.x2,c.y1,c.y2),c.el),c={}},0):"last"in c&&(30>l&&30>f?t=setTimeout(function(){c.el&&s.event.trigger("tap",c.el,{cancelTouch:h}),c.isDoubleTap?(c.el&&s.event.trigger("doubleTap",c.el),c={}):r=setTimeout(function(){c.el&&s.event.trigger("singleTap",c.el),r=null,c={}},250)},0):c={},l=f=0)}),s.event.on("touchcancel MSPointerCancel pointercancel",u,h),s.event.on("scroll",window,h),s.forEach(["tap","singleTap","longTap","doubleTap","swipe","swipeLeft","swipeRight","swipeTop","swipeBottom","transform"],function(e){s.event[e]=function(t,r){s.event.on(e,t,r)}})}(),smart["package"](function(e){var t=window.document,r={isEmptyObject:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},trim:function(e){return e.replace(/^\s*|\s*$/,"")},matchesSelector:function(){var e=t.body,r=e.webkitMatchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector,n=function(e,t){return r.call(e,t)},o=function(e,r){var n,o;if(n=e.parentNode){var a;for(o=n.querySelectorAll(r),a=o.length;a--;)if(o[a]==e)return!0;return!1}var i,u;return i=t.createElement("div"),u=i.appendChild(e),o=u.querySelector(r),i=null,o.length?!0:!1};return r?n:o}()};e.util=r});